import{f as u,S as d,h as p,j as b,r as C}from"./global-CY3ao6go.js";function h(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}const i={};function k(n,e){if(u(i[n])&&(i[n]=[]),u(e))return i[n];i[n].push(e)}function q(n){if(u(i[n])||!i[n].length)return;i[n].shift()()}const f="mdui.functions.snackbar.";let o;const m=n=>{const e=new d,c=p(e);return Object.entries(n).forEach(([t,r])=>{if(t==="message")e.innerHTML=r;else if(["onClick","onActionClick","onOpen","onOpened","onClose","onClosed"].includes(t)){const a=b(t.slice(2));c.on(a,l=>{if(l.target===e)if(t==="onActionClick"){const s=(n.onActionClick??C).call(e,e);h(s)?(e.actionLoading=!0,s.then(()=>{e.open=!1}).finally(()=>{e.actionLoading=!1})):s!==!1&&(e.open=!1)}else r.call(e,e)})}else e[t]=r}),c.appendTo("body").on("closed",t=>{t.target===e&&(c.remove(),n.queue&&(o=void 0,q(f+n.queue)))}),n.queue?o?k(f+n.queue,()=>{e.open=!0,o=e}):(setTimeout(()=>{e.open=!0}),o=e):setTimeout(()=>{e.open=!0}),e};export{m as s};
