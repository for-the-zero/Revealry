import"../modulepreload-polyfill-B5Qt9EMX.js";import{s as b,_ as y,t as x,i as $,a as S,b as k,g as C,$ as g}from"../global-BR59xZ5H.js";import"../arrow-back-BwK_J4uP.js";import"../access-time-bqFHcdXR.js";import"../shuffle-UbRnegoV.js";let p=class extends ${render(){return S('<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>')}};p.styles=b;p=y([x("mdui-icon-search")],p);const z={"zh-CN":{translations:[{selector:"mdui-top-app-bar-title",target:"inner-html",text:"博客"},{selector:".container > h1",target:"inner-html",text:"欢迎来到博客页面"},{selector:".footer",target:"inner-html",text:"注脚文本"},{selector:"mdui-segmented-button-group > mdui-segmented-button:nth-child(1)",target:"inner-html",text:"标题"},{selector:"mdui-segmented-button-group > mdui-segmented-button:nth-child(2)",target:"inner-html",text:"分类"},{selector:"mdui-segmented-button-group > mdui-segmented-button:nth-child(3)",target:"inner-html",text:"标签"},{selector:"mdui-text-field",target:"label",text:"搜索"},{selector:"mdui-top-app-bar > mdui-tooltip",target:"content",text:"随机看一篇"}],_other:{title:"博客 | Revealry 示例"}},en:{translations:[{selector:"mdui-top-app-bar-title",target:"inner-html",text:"Blog"},{selector:".container > h1",target:"inner-html",text:"Welcome to the blog page"},{selector:".footer",target:"inner-html",text:"Footer text"},{selector:"mdui-segmented-button-group > mdui-segmented-button:nth-child(1)",target:"inner-html",text:"Title"},{selector:"mdui-segmented-button-group > mdui-segmented-button:nth-child(2)",target:"inner-html",text:"Category"},{selector:"mdui-segmented-button-group > mdui-segmented-button:nth-child(3)",target:"inner-html",text:"Tag"},{selector:"mdui-text-field",target:"label",text:"Search Here"},{selector:"mdui-top-app-bar > mdui-tooltip",target:"content",text:"Random Post"}],_other:{title:"Blog | Revealry Demo"}}},R=[{title:"test",desc:"markdwon test",date:"1900-01-01 00:00:00",filename:"test1",category:"normal",tags:["test1"],allow_lang:["zh-CN","en"]},{title:"test2",desc:"markdwon test2",date:"1900-01-01 00:00:00",filename:"test2",category:"normal",tags:["test2"],allow_lang:["zh-CN","en"]},{title:"link",desc:"link to Github",date:"1900-01-01 00:00:00",href:"https://github.com/",category:"link",tags:["git","test1"],allow_lang:["en"]},{title:"跳转",desc:"到GitHub",date:"1900-01-01 00:00:00",href:"https://github.com/",category:"link",tags:["github","test2"],allow_lang:["zh-CN"]},{title:"no tags",desc:"no tags test",date:"1900-01-01 00:00:00",href:"#",category:"normal",tags:null,allow_lang:["zh-CN","en"]}];k(z);const L=C(),o=R.filter(t=>t.allow_lang.includes(L)),d=g(".searching > mdui-segmented-button-group"),l=g(".searching > mdui-text-field"),n=g(".searching > mdui-select");let v=document.querySelector(".searching > mdui-select")?.shadowRoot?.querySelector("mdui-dropdown")?.querySelector("mdui-text-field");v&&(v.style.cursor="none");n.hide();var r="name",s=[...o];function h(){const t=new URLSearchParams;if(r==="name"){const e=l.val();e&&t.set("name",e)}else if(r==="cate"){const e=n.val();e&&t.set("cate",e)}else if(r==="tag"){const e=n.val();e&&t.set("tag",e)}const a=`${window.location.pathname}?${t.toString()}`;window.history.replaceState(null,"",a)}function N(){const t=new URLSearchParams(window.location.search);if(t.has("tag")){const a=t.get("tag");r="tag",d.val("tag"),l.hide(),n.show(),f(),a&&(n.val(a),u(),c())}else if(t.has("cate")){const a=t.get("cate");r="cate",d.val("cate"),l.hide(),n.show(),f(),a&&(n.val(a),u(),c())}else if(t.has("name")){const a=t.get("name");r="name",d.val("name"),l.show(),n.hide(),a&&(l.val(a),u(),c())}}d.on("click",()=>{let t=d.val();t?(r=t,t==="name"?(l.show(),n.hide(),c()):(l.hide(),n.show(),n.val(""),f(),c()),h()):(r="name",d.val("name"),l.show(),n.hide(),c(),h())});function f(){switch(r){case"cate":n.empty();let t=[];for(let e=0;e<o.length;e++)o[e].category&&!t.includes(o[e].category)&&(t.push(o[e].category),n.append(`<mdui-menu-item value="${o[e].category}">${o[e].category}</mdui-menu-item>`));break;case"tag":n.empty();const a=new Set;for(const e of o){const i=e?.tags;if(!(!Array.isArray(i)||i.length===0||!i))for(const m of i)!a.has(m)&&m.trim()&&(a.add(m),n.append(`<mdui-menu-item value="${m}">${m}</mdui-menu-item>`))}break}}n.on("change",()=>{u(),c(),h()});l.on("input",()=>{u(),c(),h()});function u(){switch(r){case"name":let t=l.val();if(!t){s=o;return}s=o.filter(i=>i.title.toLowerCase().indexOf(t.toString().toLowerCase())!==-1);break;case"cate":let a=n.val();if(!a){s=o;return}s=o.filter(i=>i.category===a);break;case"tag":let e=n.val();if(!e){s=o;return}s=o.filter(i=>i.tags&&i.tags.includes(e.toString()));break}}const w=g(".posts");function c(){w.empty(),s.forEach(t=>{w.append(`
            <mdui-tooltip content="${t.title}"> 
                <mdui-card variant="filled" class="post" href="${t.filename?`./posts/${t.filename}${window.location.hostname==="localhost"||window.location.hostname.startsWith("192.")?"":"/"}`:t.href}">
                    <div class="v-box post-content">
                        <h2>${t.title}</h2>
                        <p>${t.desc?t.desc:""}</p>
                        <div class="h-box post-tags">
                            ${t.date?`
                                <mdui-tooltip content="${t.date}" placement="right">
                                    <mdui-chip variant="input">
                                        <mdui-icon-access-time slot="icon"></mdui-icon-access-time>
                                        <span></span>
                                    </mdui-chip>
                                </mdui-tooltip>
                            `:""}
                            <mdui-chip selected>
                                <mdui-icon-category--outlined slot="selected-icon"></mdui-icon-category--outlined>
                                ${t.category}
                            </mdui-chip>
                            ${t.tags?t.tags.map(a=>`
                                <mdui-chip>
                                    <mdui-icon-tag slot="icon"></mdui-icon-tag>
                                    ${a}
                                </mdui-chip>
                            `).join(""):""}
                        </div>
                    </div>
                </mdui-card>
            </mdui-tooltip>
        `)})}c();N();const _=g(".ramd");_.on("hover mouseenter touchstart mouseup",()=>{function t(){let e=s[Math.floor(Math.random()*s.length)];return e.filename?e.filename:t()}let a=t();_.attr("href",`./posts/${a}${window.location.hostname==="localhost"||window.location.hostname.startsWith("192.")?"":"/"}`)});
